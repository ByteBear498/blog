---
date: 2017-09-08 20:18:00
status: public
title: MMSeg分词方法
Tags: 
- 自然语言处理
- 分词
categories:
 - NLP
---

## 概述
陈和刘（1992）完成的最大匹配的另一个变体比基本形式更复杂。 这种演算法指出，最可能的分词方式是三个单词，方式为从一个字串的第一个字开始，寻找分词的方式，只要存在有不同意义的词。

## MMSeg的四个规则

### 规则 1：最大匹配(Maximum matching)
Simple方法：取最大长度的单词。
Complex方法：匹配出所有的“三个词的词组”（原文中使用了chunk，这里感觉用“词组”比较合适），即从某一既定的字为起始位置，得到所有可能的“以三个词为一组”的所有组合。比如“研究生命起源”，可以得到
```
研_究_生
研_究_生命
研究生_命_起源
研究_生命_起源
```

### 规则 2：最大平均单词长度(Largest average word length)
经过规则1过滤后，如果剩余的词组超过1个，那就选择平均词语长度最大的那个（平均词长＝词组总字数／词语数量）。比如“生活水平”，可能得到如下词组：
```
生_活水_平 (4/3=1.33)
生活_水_平 (4/3=1.33)
生活_水平 (4/2=2)
```
根据此规则，就可以确定选择“生活_水平”这个词组

### 规则 3：单词长度的最小方差(Smallest variance of word lengths)
由于词语长度的变化率可以由标准差反映，所以此处直接套用标准差公式即可。比如
```
研究_生命_起源 （标准差=sqrt(((2-2)^2+(2-2)^2+(2-2^2))/3)=0）
研究生_命_起源 （标准差=sqrt(((2-3)^2+(2-1)^2+(2-2)^2)/3)=0.8165）
```
于是选择“研究_生命_起源”这个词组。

### 规则 4：单字单词的语素自由度的最大和(Largest sum of degree of morphemic freedom of one-character words)
其中degree of morphemic freedom可以用一个数学公式表达：log(frequency)，即词频的自然对数（这里log表示数学中的ln）。这个规则的意思是“计算词组中的所有单字词词频的自然对数，然后将得到的值相加，取总和最大的词组”。比如：
```
设施_和服_务
设施_和_服务
```
这两个词组中分别有“务”和“和”这两个单字词，假设“务”作为单字词时候的频率是5，“和”作为单字词时候的频率是10，对5和10取自然对数，然后取最大值者，所以取“和”字所在的词组，即“设施_和_服务”。
也许会问为什么要对“词频”取自然对数呢？可以这样理解，词组中单字词词频总和可能一样，但是实际的效果并不同，比如
```
A_BBB_C （单字词词频，A:3， C:7）
DD_E_F （单字词词频，E:5，F:5）
```
表示两个词组，A、C、E、F表示不同的单字词，如果不取自然对数，单纯就词频来计算，那么这两个词组是一样的（3+7=5+5），但实际上不同的词频范围所表示的效果也不同，所以这里取自然对数，以表区分（ln(3)+ln(7) < ln(5)+ln(5)， 3.0445<3.2189）。

## 总结
这个四个过滤规则中，如果使用simple的匹配方法，只能使用第一个规则过滤，如果使用complex的匹配方法，则四个规则都可以使用。实际使用中，一般都是使用complex的匹配方法＋四个规则过滤。
看到这里也许对MMSEG的分词方法有了一个大致的了解，它是一个“直观”的分词方法。**它把一个句子“尽可能长（这里的长，是指所切分的词尽可能的长）”“尽可能均匀”的去切分**，与中文的语法习惯比较相符。